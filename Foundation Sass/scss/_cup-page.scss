@import "compass";
@import "colors"; // import Standard Colors
@import "foundation/components/global"; // import Standard Variables

// ----------------------------------
// Cup Header
// ----------------------------------

@media #{$small-only} {
    .cup-header-panel {
        padding: 0;
    }
    
    .cup-header-left {
        padding: 0;
    }
    
    .cup-header-left .flex-center > h3 {
        background-color: $fc-orange;
        padding: 20px;
        text-align: center;
        color: #fff;
        margin: 0;
    }
    
    .cup-header-right {
        padding: 0;
    }
    
    .cup-header-right img {
        width: 100%;
    }
}

@media #{$medium-up} {
    .cup-header-panel {
        padding: 0;
    }
    
    .cup-header-panel > .row {
        display: flex;
        align-items: stretch;
    }
    
    .cup-header-left {
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .flex-center {
        width: 100%;
    }

    .cup-header-left .flex-center > h3 {
        background-color: $fc-orange;
        padding: 0 20px;
        line-height: 70px;
        text-align: center;
        color: #fff;
        margin: ($column-gutter / 2) 35px ($column-gutter / 2) 0;
        position: relative;
        white-space: nowrap;
    }

    .cup-header-left .flex-center > h3:after {
        content: " ";
        display: block;
        position: absolute;
        right: -70px;
        top: 0;
        width: 0;
        border: 35px solid transparent;
        border-left: 35px solid $fc-orange;
    }
    
    // fix gap on higher zoom/fontsize
    .cup-header-left .flex-center > h3:before {
        content: " ";
        display: block;
        position: absolute;
        right: -69px;
        top: 0;
        width: 0;
        border: 35px solid transparent;
        border-left: 35px solid $fc-orange;
    }

    .cup-header-left .flex-center > p {
        text-align: center;
        color: #fff;
        margin: ($column-gutter / 2) 35px ($column-gutter / 2) 0;
    }

    .cup-header-right {
        padding: 0;
    }

    .cup-header-right img {
        width: 100%;
    }
    
    .cup-header-right p {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        background-color: rgba(0,0,0,0.7);
        color: #fff;
        padding: rem-calc(15);
        margin: 0;
    }
}

@media #{$large-up} {
    .cup-header-admin {
        text-align: center;
        margin: ($column-gutter / 2) 35px ($column-gutter / 2) 0;
    }
    
    .cup-header-left hr {
        border-color: #fff;
    }
    
    .cup-header-admin img {
        height: 70px;
        width: 70px;
        @include border-radius(50%);
    }

    .cup-header-admin p {
        color: #fff;
        font-size: 1.3rem;
    }

    .cup-header-admin p strong {
        margin: 0 rem-calc(10);
    }

    .cup-header-admin p span {
        font-size: 1rem;
    }
}

// ----------------------------------
// Cup Section
// ----------------------------------

@media #{$small-only} {
    .cup-section {
        width: 90%;
        margin: 0 5% $column-gutter 5%;
        background-color: $fc-primary-bg;
    }
}

// ----------------------------------
// Section Header
// ----------------------------------

.section-header {
    font-weight: bold;
    border-bottom: 1px solid #bbb;
    padding: 0 0 rem-calc(5) 0;
    margin: rem-calc(20) 0 rem-calc(40) 0;
}

.section-modal .section-header {
    margin: rem-calc(20) ($column-gutter / 2) rem-calc(40) ($column-gutter / 2);
}

// ----------------------------------
// Cup Section Modal
// ----------------------------------

@media #{$small-up} {
    .section-modal {
        display: none;
        max-width: none;
        width: 100%;
        background-color: $fc-primary-bg;
        padding: 0;
        @include box-shadow(0 0 rem-calc(10) rgba(0,0,0,0.4));
    }
}

@media #{$medium-up} {
    .section-modal {
        background-color: #fff;
        padding: 0 rem-calc(20);
    }
}

// ----------------------------------
// Challenges
// ----------------------------------

@mixin generate-ch-element($pos, $color) { // $pos -> active, finished, queued
    .ch-#{$pos} {
        position: relative;
        width: 170px;

        .ch-#{$pos}-color-holder {
            background-color: $color;
            height: 215px;
            position: relative;
            @include transition(background-color 0.2s ease);

            > p.ch-name {
                color: #fff;
                margin: 0;
                padding: 0 10px;
                line-height: 30px;
                position: relative;
            }
            
            > p.ch-name > span.ch-icon {
                position: absolute;
                right: 0;
                padding: 0 10px 0 20px;
                @include background-image(linear-gradient(left, rgba(0,0,0,0) 0%,$color 15px,$color 100%));
            }

            > img {
                height: 170px;
                width: 170px;
            }
            
            > p.ch-winner {
                position: absolute;
                bottom: 15px;
                left: 0;
                right: 0;
                color: #fff;
                background-color: rgba(0,0,0,0.7);
                margin: 0;
                padding: 0 10px;
                line-height: 30px;
            }
        }

        .ch-#{$pos}-color-holder:after {
            content: " ";
            display: block;
            position: absolute;
            bottom: -29px; // (instead of 30) fixes problem on higher zoom
            left: 70px;
            width: 0;
            height: 0;
            border: 15px solid transparent;
            border-top: 15px solid $color;
            @include transition(border-top 0.2s ease);
        }
        
        > a > p.ch-date {
            font-weight: bold;
            text-align: center;
            padding-top: 20px;
        }
        
        > a:hover .ch-#{$pos}-color-holder {
            background-color: scale-color($color, $lightness: 20%);
        }
        
        > a:hover .ch-#{$pos}-color-holder:after {
            border-top: 15px solid scale-color($color, $lightness: 20%);
        }
    }
    
    .ch-#{$pos}:before {
        content: " ";
        display: block;
        position: absolute;
        top: 200px;
        left: -$column-gutter;
        right: -$column-gutter;
        height: 15px;
        background-color: #ccc;
    }
}

.ch-compressed {
    position: relative;
    overflow: hidden;
    
    @include generate-ch-element('active', $fc-orange);
    
    .ch-active {
        margin: 0 auto;
    }
    
    .ch-left-container {
        position: absolute;
        top: 0;
        right: 50%;
        margin-right: rem-calc(85);
        
        @include generate-ch-element('finished', $fc-primary);
        
        .ch-finished {
            float: right;
            margin-right: $column-gutter;
        }
    }
    
    .ch-right-container {
        position: absolute;
        top: 0;
        left: 50%;
        margin-left: rem-calc(85);
        
        @include generate-ch-element('queued', #333);
        
        .ch-queued {
            float: left;
            margin-left: $column-gutter;
        }
    }
}

.ch-expanded {
    position: relative;
    overflow-x: auto;
    overflow-y: hidden;
    white-space: nowrap;
    
    @include generate-ch-element('active', $fc-orange);
    @include generate-ch-element('finished', $fc-primary);
    @include generate-ch-element('queued', #333);
    
    .ch-active,
    .ch-finished,
    .ch-queued {
        display: inline-block;
        margin: 0 ($column-gutter / 2);
    }
    
    > div:first-child {
        margin-left: $column-gutter / 2;
    }
    
    > div:first-child:before {
        left: 0;
    }
    
    > div:last-child {
        margin-right: $column-gutter / 2;
    }
    
    > div:last-child:before {
        right: 0;
    }
}














